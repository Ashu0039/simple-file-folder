(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(51)},37:function(e,t,n){},43:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(27),i=n.n(r),c=n(12),o=(n(37),n(19)),d=n(9),s=n(14),u=n(15),f=n(17),m=n(16),p=n(18),y=n(7),E=n(13),h=n(8),v=n(28),F=n(29),b=n.n(F),w=(n(43),"root"),g="file",k="folder",N=n(4),O=function(e){var t="";switch(e.type){case k:t=l.a.createElement(N.a,{icon:"folder",size:"5x",style:{color:"coral"}});break;case g:t=l.a.createElement(N.a,{icon:"file",size:"5x",style:{color:"cornflowerblue"}});break;default:t="UNKNOWN Type"}return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:1}},t)},j=(n(46),function(e){var t=e.entity,n=e.select,a=e.selected,r=e.open;return l.a.createElement("div",{className:"folder entity ".concat(a?"selected":""),onClick:function(){return n(t)},onDoubleClick:function(){return r(t.id)}},l.a.createElement(O,{type:t.type}),l.a.createElement("div",{className:"title"},t.title))}),C=function(e){var t=e.entity,n=e.selected,a=e.select;return l.a.createElement("div",{className:"file entity ".concat(n?"selected":""),onClick:function(){return a(t)}},l.a.createElement(O,{type:t.type}),l.a.createElement("div",{className:"title"},t.title))},S=(n(47),function(e){var t=e.title,n=e.addFolder,a=e.addFile,r=e.selectedEntity,i=e.deleteSelectedEntity,c=e.renameEntity,o=e.unselect,d=e.canGoBack,s=e.back;return l.a.createElement("div",{className:"title-bar ".concat(r?"selected":"")},l.a.createElement("span",{className:"title"},!r&&d?l.a.createElement(N.a,{onClick:function(){return s()},icon:"arrow-left",size:"sm",style:{marginRight:12,cursor:"pointer"}}):"",r?l.a.createElement(N.a,{onClick:function(){return o()},icon:"times",size:"sm",style:{marginRight:12,cursor:"pointer"}}):"",t),l.a.createElement("div",{className:"options"},r?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{onClick:function(){return c()}},l.a.createElement(N.a,{icon:"edit",size:"1x"})," Rename"),l.a.createElement("span",{onClick:function(){return i()}},l.a.createElement(N.a,{icon:"trash",size:"1x"})," Delete")):l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{onClick:function(){return n()}},l.a.createElement(N.a,{icon:"folder",size:"1x"})," Add Folder"),l.a.createElement("span",{onClick:function(){return a()}},l.a.createElement(N.a,{icon:"file",size:"1x"})," Add File"))))});S.defaultProps={title:"",addFolder:function(){},addFile:function(){},selectedEntity:null,canGoBack:!1,goBack:function(){}};var x=S,I=function(){return l.a.createElement("section",null,l.a.createElement("div",null,"Folder Not Found"),l.a.createElement(c.b,{to:"/"},"Click here to go home"))},A=function(){return l.a.createElement("div",null,l.a.createElement(N.a,{icon:"folder-open",size:"3x",style:{color:"lightblue"}}),l.a.createElement("div",null,"Nothing here"))},z=function(){return l.a.createElement("div",null,"Entity type not compatible")},B=function(e){var t=Object(v.a)({},e);switch(t.entity.type){case k:return l.a.createElement(j,t);case g:return l.a.createElement(C,t);default:return l.a.createElement(z,null)}},W=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(f.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).createNewEntity=function(e){var t=e.fn,a=e.title,l=n.props.match.params.folderId;t({id:b()(),title:a,parent:l||w})},n.askNameForFolder=function(){var e=n.props.addFolder,t=prompt("Enter folder name","New Folder");t&&(console.log("adding new folder --\x3e ",t),n.createNewEntity({fn:e,title:t}))},n.askNameForFile=function(){var e=prompt("Enter file name","New File"),t=n.props.addFile;e&&(console.log("adding new file --\x3e ",e),n.createNewEntity({fn:t,title:e}))},n.openFolder=function(e){console.log("open folder --\x3e ",e),n.props.history.push(e)},n.goBack=function(){n.props.history.goBack()},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.unlisten=this.props.history.listen(function(t,n){e.props.entitySelected(null)})}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.entitySelected,r=t.deleteSelectedEntity,i=t.renameEntity,c=t.selectedEntity,o=this.props.match.params.folderId;if(o&&!n.hasOwnProperty(o))return l.a.createElement(I,null);var d=function(e){var t=e.folderId,n=e.data;return t?n[t]:n[w]}({folderId:o,data:n}),s=d.title,u=function(e){var t=e.children,n=e.data;return t.map(function(e){return n[e]})}({children:d.children,data:n});return l.a.createElement(l.a.Fragment,null,l.a.createElement(x,{title:c?c.title:s,addFolder:this.askNameForFolder,addFile:this.askNameForFile,selectedEntity:c,deleteSelectedEntity:r,renameEntity:i,unselect:function(){return a(null)},canGoBack:!!o,back:this.goBack}),l.a.createElement("div",{className:"Explorer"},u.length?u.map(function(t){return l.a.createElement(B,{key:t.id,entity:t,open:t.type===k?e.openFolder:null,select:function(e){return a(e)},selected:c&&c.id===t.id})}):l.a.createElement(A,null)))}}]),t}(a.Component);W.defaultProps={data:{},addFolder:function(){},addFile:function(){},entitySelected:function(){},selectedEntity:null};var P=W,G={root:{id:w,title:"Home",type:k,parent:null,children:["folder1"]},folder1:{id:"folder1",title:"Folder 1",type:k,parent:w,children:["file1","folder2"]},file1:{id:"file1",title:"File 1",parent:"folder1",type:g},folder2:{id:"folder2",title:"Folder 2",type:k,parent:"folder1",children:["folder3"]},folder3:{id:"folder3",title:"Folder 3",type:k,parent:"folder2",children:[]}};n(50);E.b.add(h.c,h.d,h.b,h.g,h.f,h.a,h.e);var R=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(f.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={data:G,selectedEntity:null},n.addNewEntityAndChildren=function(e){console.log("adding new entity ==> ",e);var t=e.id,a=e.parent,l=n.state.data,r=Object(d.a)({},l);r[t]=e;var i=r[a],c=i.children,s=[].concat(Object(o.a)(c),[t]),u=Object(d.a)({},i,{children:s});r[a]=u,n.setState({data:r})},n.addFolder=function(e){var t=e.id,a=e.title,l=e.parent,r={id:t,title:a,type:k,parent:l,children:[]};n.addNewEntityAndChildren(r)},n.addFile=function(e){var t=e.id,a=e.title,l=e.parent,r={id:t,title:a,type:g,parent:l};n.addNewEntityAndChildren(r)},n.entitySelected=function(e){console.log("select entity --\x3e ",e);var t=n.state.selectedEntity,a=t&&e&&t.id===e.id?null:e;n.setState({selectedEntity:a})},n.removeEntityAndItsChildren=function(e,t){var a=Object(d.a)({},e),l=a[t].children;if(l||l)for(var r=0;r<l.length;r++){var i=l[r];a=n.removeEntityAndItsChildren(a,i)}return delete a[t],a},n.removeEntityAsChild=function(e){var t=e.data,n=e.parentId,a=e.entityId,l=Object(d.a)({},t),r=l[n],i=r.children,c=i.findIndex(function(e){return e===a});if(c>-1){var s=[].concat(Object(o.a)(i.slice(0,c)),Object(o.a)(i.slice(c+1))),u=Object(d.a)({},r,{children:s});l[n]=u}return l},n.deleteEntity=function(e){var t=n.state.data,a=n.removeEntityAsChild({data:t,parentId:e.parent,entityId:e.id}),l=n.removeEntityAndItsChildren(a,e.id);n.setState({data:l})},n.deleteSelectedEntity=function(){var e=n.state.selectedEntity;if(e){var t=prompt("Please enter YES if you want to delete ".concat(e.title));t&&"yes"===t.trim().toLowerCase()&&(console.log("delete selected entity --\x3e ",e),n.deleteEntity(e))}n.setState({selectedEntity:null})},n.updateEntityName=function(e){var t=e.id,a=e.newName,l=n.state.data,r=Object(d.a)({},l),i=r[t],c=Object(d.a)({},i,{title:a});r[t]=c,n.setState({data:r})},n.renameEntity=function(){var e=n.state.selectedEntity;if(e){var t=prompt("Enter new name",e.title);t&&n.updateEntityName({id:e.id,newName:t})}n.setState({selectedEntity:null})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.data,a=t.selectedEntity;return l.a.createElement("div",{className:"App"},l.a.createElement(y.a,{path:"/:folderId?",render:function(t){return l.a.createElement(P,Object.assign({data:n,addFile:e.addFile,addFolder:e.addFolder,entitySelected:e.entitySelected,selectedEntity:a,deleteSelectedEntity:e.deleteSelectedEntity,renameEntity:e.renameEntity},t))}}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(c.a,null,l.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.a034f083.chunk.js.map